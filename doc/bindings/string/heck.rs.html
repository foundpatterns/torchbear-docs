<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Module List</title>
    <link rel="stylesheet" type="text/css" href="../../../css/lua.css">
</head>
<body>
	<pre><code id="1">use rlua::prelude::*;</code><code id="2">use heck::*;</code><code id="3"></code><code id="4">pub fn init(lua: &amp;Lua) -&gt; ::Result&lt;()&gt; {</code><code id="5"></code><code id="6">    let module = lua.create_table()?;</code><code id="7"></code><code id="8">    module.set(&quot;to_camel_case&quot;, lua.create_function(|_, text: String| {</code><code id="9">        Ok(text.to_camel_case())</code><code id="10">    })?)?;</code><code id="11"></code><code id="12">    module.set(&quot;to_kebab_case&quot;, lua.create_function(|_, text: String| {</code><code id="13">        Ok(text.to_kebab_case())</code><code id="14">    })?)?;</code><code id="15"></code><code id="16">    module.set(&quot;to_mixed_case&quot;, lua.create_function(|_, text: String| {</code><code id="17">        Ok(text.to_mixed_case())</code><code id="18">    })?)?;</code><code id="19"></code><code id="20">    module.set(&quot;to_shouty_snake_case&quot;, lua.create_function(|_, text: String| {</code><code id="21">        Ok(text.to_shouty_snake_case())</code><code id="22">    })?)?;</code><code id="23"></code><code id="24">    module.set(&quot;to_snake_case&quot;, lua.create_function(|_, text: String| {</code><code id="25">        Ok(text.to_snake_case())</code><code id="26">    })?)?;</code><code id="27"></code><code id="28">    module.set(&quot;to_title_case&quot;, lua.create_function(|_, text: String| {</code><code id="29">        Ok(text.to_title_case())</code><code id="30">    })?)?;</code><code id="31"></code><code id="32">    lua.globals().set(&quot;heck&quot;, module)?;</code><code id="33"></code><code id="34">    Ok(())</code><code id="35">}</code><code id="36"></code><code id="37">#[cfg(test)]</code><code id="38">mod tests {</code><code id="39">    use super::*;</code><code id="40"></code><code id="41">    #[test]</code><code id="42">    fn lua_heck_cambel () {</code><code id="43">        let lua = Lua::new();</code><code id="44">        init(&amp;lua).unwrap();</code><code id="45"></code><code id="46">        lua.exec::&lt;_, ()&gt;(r#&quot;</code><code id="47">            local val = &quot;We are not in the least afraid of ruins&quot;</code><code id="48">            assert(heck.to_camel_case(val) == &quot;WeAreNotInTheLeastAfraidOfRuins&quot;)</code><code id="49">        &quot;#, None).unwrap();</code><code id="50">    }</code><code id="51"></code><code id="52">    #[test]</code><code id="53">    fn lua_heck_kebab () {</code><code id="54">        let lua = Lua::new();</code><code id="55">        init(&amp;lua).unwrap();</code><code id="56"></code><code id="57">        lua.exec::&lt;_, ()&gt;(r#&quot;</code><code id="58">            local val = &quot;We are going to inherit the earth&quot;</code><code id="59">            assert(heck.to_kebab_case(val) == &quot;we-are-going-to-inherit-the-earth&quot;)</code><code id="60">        &quot;#, None).unwrap();</code><code id="61">    }</code><code id="62"></code><code id="63">    #[test]</code><code id="64">    fn lua_heck_mixed () {</code><code id="65">        let lua = Lua::new();</code><code id="66">        init(&amp;lua).unwrap();</code><code id="67"></code><code id="68">        lua.exec::&lt;_, ()&gt;(r#&quot;</code><code id="69">            local val = &quot;It is we who built these palaces and cities&quot;</code><code id="70">            assert(heck.to_mixed_case(val) == &quot;itIsWeWhoBuiltThesePalacesAndCities&quot;)</code><code id="71">        &quot;#, None).unwrap();</code><code id="72">    }</code><code id="73"></code><code id="74">    #[test]</code><code id="75">    fn lua_heck_shouty() {</code><code id="76">        let lua = Lua::new();</code><code id="77">        init(&amp;lua).unwrap();</code><code id="78"></code><code id="79">        lua.exec::&lt;_, ()&gt;(r#&quot;</code><code id="80">            local val = &quot;That world is growing in this minute&quot;</code><code id="81">            assert(heck.to_shouty_snake_case(val) == &quot;THAT_WORLD_IS_GROWING_IN_THIS_MINUTE&quot;)</code><code id="82">        &quot;#, None).unwrap();</code><code id="83">    }</code><code id="84"></code><code id="85">    #[test]</code><code id="86">    fn lua_heck_snake () {</code><code id="87">        let lua = Lua::new();</code><code id="88">        init(&amp;lua).unwrap();</code><code id="89"></code><code id="90">        lua.exec::&lt;_, ()&gt;(r#&quot;</code><code id="91">            local val = &quot;We carry a new world here, in our hearts&quot;</code><code id="92">            assert(heck.to_snake_case(val) == &quot;we_carry_a_new_world_here_in_our_hearts&quot;)</code><code id="93">        &quot;#, None).unwrap();</code><code id="94">    }</code><code id="95"></code><code id="96">    #[test]</code><code id="97">    fn lua_heck_title () {</code><code id="98">        let lua = Lua::new();</code><code id="99">        init(&amp;lua).unwrap();</code><code id="100"></code><code id="101">        lua.exec::&lt;_, ()&gt;(r#&quot;</code><code id="102">            local val = &quot;We have always lived in slums and holes in the wall&quot;</code><code id="103">            assert(heck.to_title_case(val) == &quot;We Have Always Lived In Slums And Holes In The Wall&quot;)</code><code id="104">        &quot;#, None).unwrap();</code><code id="105">    }</code><code id="106">}</code></pre>
</body>
</html>
